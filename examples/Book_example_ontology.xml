<?xml version="1.0" encoding="UTF-8"?>
<Ontology>

    <!-- =====================
         CLASES PRINCIPALES
         ===================== -->

    <Class id="1" name="Author">
        <description>Representa un autor de libros</description>
        <Attribute name="name" type="string" cardinality="1"/>
        <Attribute name="birth_date" type="date" cardinality="0..1"/>
    </Class>
    
    <Class id="2" name="Book">
        <description>Representa un libro</description>
        <Attribute name="title" type="string" cardinality="1"/>
        <Attribute name="isbn" type="string" cardinality="1"/>
    </Class>

    <Class id="3" name="Words">
        <description>Información sobre el número de palabras de un libro por idioma</description>
        <Attribute name="language" type="string" cardinality="1"/>
        <Attribute name="count" type="integer" cardinality="1"/>
    </Class>

    <Class id="4" name="Type">
        <description>Tipo o género del libro</description>
        <Attribute name="type_ID" type="integer" cardinality="1"/>
        <Attribute name="type_name" type="string" cardinality="1"/>
    </Class>

    <Class id="5" name="Publisher">
        <description>Editorial que publica libros</description>
        <Attribute name="name" type="string" cardinality="1"/>
        <Attribute name="country" type="string" cardinality="0..1"/>
        <Attribute name="founded_year" type="integer" cardinality="0..1"/>
    </Class>

    <Class id="6" name="Review">
        <description>Reseña de un libro</description>
        <Attribute name="rating" type="integer" cardinality="1"/>
        <Attribute name="comment" type="string" cardinality="0..1"/>
        <Attribute name="date" type="date" cardinality="0..1"/>
    </Class>

    <Class id="7" name="Category">
        <description>Categoría temática del libro</description>
        <Attribute name="category_ID" type="integer" cardinality="1"/>
        <Attribute name="category_name" type="string" cardinality="1"/>
    </Class>

    <Class id="8" name="Edition">
        <description>Edición específica de un libro</description>
        <Attribute name="edition_number" type="integer" cardinality="1"/>
        <Attribute name="publication_date" type="date" cardinality="0..1"/>
        <Attribute name="format" type="string" cardinality="0..1"/>
    </Class>

    <Class id="9" name="Chapter">
        <description>Capítulo de un libro</description>
        <Attribute name="chapter_number" type="integer" cardinality="1"/>
        <Attribute name="title" type="string" cardinality="1"/>
        <Attribute name="pages" type="integer" cardinality="0..1"/>
    </Class>

    <Class id="10" name="Translator">
        <description>Persona que traduce libros</description>
        <Attribute name="name" type="string" cardinality="1"/>
    </Class>

    <!-- =====================
         NUEVAS CLASES (NIVELES EXTRA)
         ===================== -->

    <Class id="11" name="Reviewer">
        <description>Persona que realiza una reseña</description>
        <Attribute name="name" type="string" cardinality="1"/>
        <Attribute name="email" type="string" cardinality="0..1"/>
    </Class>

    <Class id="12" name="Nationality">
        <description>Nacionalidad asociada a personas u organizaciones</description>
        <Attribute name="country_code" type="string" cardinality="1"/>
        <Attribute name="country_name" type="string" cardinality="1"/>
    </Class>

    <Class id="13" name="Language">
        <description>Idioma utilizado en libros, traducciones o conteo de palabras</description>
        <Attribute name="language_code" type="string" cardinality="1"/>
        <Attribute name="language_name" type="string" cardinality="1"/>
    </Class>

    <Class id="14" name="Award">
        <description>Premio literario</description>
        <Attribute name="award_name" type="string" cardinality="1"/>
        <Attribute name="year" type="integer" cardinality="1"/>
    </Class>

    <!-- =====================
         RELACIONES
         ===================== -->

    <!-- Originales -->
    <Relation name="writes"
              source="Author"
              target="Book"
              type="association"
              source_cardinality="1"
              target_cardinality="0..n"/>

    <Relation name="has_words"
              source="Book"
              target="Words"
              type="association"
              source_cardinality="1"
              target_cardinality="1..n"/>

    <Relation name="has_type"
              source="Type"
              target="Book"
              type="association"
              source_cardinality="1"
              target_cardinality="0..n"/>

    <Relation name="published_by"
              source="Publisher"
              target="Book"
              type="association"
              source_cardinality="1"
              target_cardinality="0..n"/>

    <Relation name="has_review"
              source="Book"
              target="Review"
              type="association"
              source_cardinality="1"
              target_cardinality="0..n"/>

    <Relation name="categorized_as"
              source="Book"
              target="Category"
              type="association"
              source_cardinality="0..n"
              target_cardinality="0..n"/>

    <Relation name="has_edition"
              source="Book"
              target="Edition"
              type="association"
              source_cardinality="1"
              target_cardinality="1..n"/>

    <Relation name="contains_chapter"
              source="Book"
              target="Chapter"
              type="aggregation"
              source_cardinality="1"
              target_cardinality="1..n"/>

    <Relation name="translates"
              source="Translator"
              target="Book"
              type="association"
              source_cardinality="0..n"
              target_cardinality="0..n"/>

    <!-- Nuevas relaciones de niveles extra -->

    <Relation name="written_by"
              source="Review"
              target="Reviewer"
              type="association"
              source_cardinality="1"
              target_cardinality="1"/>

    <Relation name="has_nationality_author"
              source="Author"
              target="Nationality"
              type="association"
              source_cardinality="1"
              target_cardinality="1"/>

    <Relation name="has_nationality_translator"
              source="Translator"
              target="Nationality"
              type="association"
              source_cardinality="1"
              target_cardinality="1"/>

    <Relation name="has_nationality_reviewer"
              source="Reviewer"
              target="Nationality"
              type="association"
              source_cardinality="1"
              target_cardinality="1"/>

    <Relation name="has_nationality_publisher"
              source="Publisher"
              target="Nationality"
              type="association"
              source_cardinality="1"
              target_cardinality="1"/>

    <Relation name="uses_language"
              source="Translator"
              target="Language"
              type="association"
              source_cardinality="1"
              target_cardinality="0..n"/>

    <Relation name="written_in"
              source="Book"
              target="Language"
              type="association"
              source_cardinality="1"
              target_cardinality="1"/>

    <Relation name="counts_words_in"
              source="Words"
              target="Language"
              type="association"
              source_cardinality="1"
              target_cardinality="1"/>

    <Relation name="awarded_to_author"
              source="Award"
              target="Author"
              type="association"
              source_cardinality="1"
              target_cardinality="1"/>

    <Relation name="awarded_to_book"
              source="Award"
              target="Book"
              type="association"
              source_cardinality="1"
              target_cardinality="1"/>

</Ontology>